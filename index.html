<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divine Greeting</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="assets/divine-greating.webp" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<style>
    body {
        font-family: 'Arial', sans-serif; /* D√©finit la police de caract√®res pour le corps du document */
        background: linear-gradient(135deg, #6a11cb, #2575fc); /* Applique un d√©grad√© lin√©aire en arri√®re-plan */
        color: white; /* D√©finit la couleur du texte en blanc */
        display: flex; /* Utilise Flexbox pour le layout */
        justify-content: center; /* Centre le contenu horizontalement */
        align-items: center; /* Centre le contenu verticalement */
        height: 100vh; /* D√©finit la hauteur du corps √† 100% de la hauteur de la fen√™tre */
        margin: 0; /* Supprime les marges par d√©faut */
        transition: background 0.5s ease;
    }
    
    .container {
        text-align: center; /* Centre le texte √† l'int√©rieur du conteneur */
        background: rgba(255, 255, 255, 0.1); /* Applique un fond semi-transparent blanc */
        padding: 2rem; /* Ajoute un padding autour du conteneur */
        border-radius: 15px; /* Arrondit les coins du conteneur */
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); /* Ajoute une ombre port√©e au conteneur */
        backdrop-filter: blur(10px); /* Applique un flou de fond au conteneur */
        max-width: 90%;
        width: 500px;
    }
    
    h1 {
        font-size: 2.5rem; /* D√©finit la taille de la police pour les titres */
        margin-bottom: 1rem; /* Ajoute une marge en bas des titres */
        transition: margin 1s ease-in-out, opacity 1s ease-in-out; /* Ajoute une transition pour la marge et l'opacit√© */
    }
    
    #verse {
        color: #c6c6c6; /* D√©finit la couleur du texte pour le verset */
        transition: opacity 2s ease-in-out; /* Ajoute une transition pour l'opacit√© */
    }
    
    .verse-container {
        opacity: 0; /* D√©finit l'opacit√© initiale √† 0 */
        transition: opacity 1s ease-in-out; /* Ajoute une transition pour l'opacit√© */
    }
    
    .verse-container.visible {
        opacity: 1; /* D√©finit l'opacit√© √† 1 lorsque l'√©l√©ment est visible */
    }
    
    #shareOptions {
        transition: opacity 1s ease-in-out, max-height 1s ease-in-out; /* Ajoute une transition pour l'opacit√© et la hauteur maximale */
        max-height: 0; /* D√©finit la hauteur maximale initiale √† 0 */
        /* overflow: hidden; Masque le contenu d√©bordant */
    }
    
    .share-options {
        opacity: 0; /* D√©finit l'opacit√© initiale √† 0 */
        /* margin-top: 10px; Ajoute une marge en haut des options de partage */
    }
    
    .share-options.visible {
        opacity: 1; /* D√©finit l'opacit√© √† 1 lorsque l'√©l√©ment est visible */
        max-height: 100px; /* Ajustez cette valeur en fonction du contenu */
    }
    
    .share-options button {
        display: inline-block; /* Affiche les boutons en ligne */
        align-items: center; /* Centre les √©l√©ments √† l'int√©rieur des boutons */
        margin: 5px 0; /* Ajoute une marge autour des boutons */
    }
    
    .share-options button i {
        margin-right: 10px; /* Ajoute une marge √† droite des ic√¥nes √† l'int√©rieur des boutons */
    }
    
    .social-share {
        transition: margin 1s ease-in-out, opacity 1s ease-in-out; /* Ajoute une transition pour la marge et l'opacit√© */
    }
    
    .social-share button {
        background: #2575fc; /* D√©finit la couleur de fond des boutons */
        border: none; /* Supprime les bordures des boutons */
        color: white; /* D√©finit la couleur du texte des boutons en blanc */
        padding: 0.5rem 1rem; /* Ajoute un padding √† l'int√©rieur des boutons */
        margin: 0.5rem; /* Ajoute une marge autour des boutons */
        border-radius: 5px; /* Arrondit les coins des boutons */
        cursor: pointer; /* Change le curseur en pointeur lors du survol des boutons */
        transition: transform 0.2s ease, background 0.3s ease;
    }
    
    .social-share button:hover {
        background: #6a11cb; /* Change la couleur de fond des boutons lors du survol */
        transform: scale(1.05);
    }
    /* -------------------------------------------- */
    
    @media (max-width: 600px) {
        .container {
            padding: 1rem;
            width: 95%;
        }
    }
    
</style>
<body>
    <div class="container">
        <h1 id="greeting"></h1>
        <em id="verse" class="verse-container"></em>
        <div class="social-share">
            <button onclick="toggleShareOptions()" id="shareFriendButton">ü§ó Je partage avec mon ami</button>
            <button onclick="shareSite()"><i class="fas fa-share-alt"></i></button>
            <button onclick="toggleTextToSpeech()" id="speakButton">
                <i class="fas fa-volume-up"></i> Lire √† haute voix
            </button>
            <div id="shareOptions" class="share-options">
                <button onclick="shareOnFacebook()"><i class="fab fa-facebook-f"></i> Facebook</button>
                <button onclick="shareOnTwitter()"><i class="fab fa-twitter"></i> Twitter</button>
                <button onclick="shareOnWhatsApp()"><i class="fab fa-whatsapp"></i> WhatsApp</button>
                <button onclick="copyVerseToClipboard()"><i class="fas fa-copy"></i> Copier</button>
            </div>
        </div>
    </div>
    <script src="script.js">
        const greetings = {
            morning: "Bonjour! Que Dieu te b√©nisse ce matin.",
            afternoon: "Bon apr√®s-midi! Que la paix de Dieu soit avec toi.",
            evening: "Bonsoir! Que Dieu te garde ce soir.",
            night: "Bonne nuit! Que Dieu te prot√®ge pendant votre sommeil."
        };
        
        let synth = window.speechSynthesis;
        let currentVoice = null;
        
        // Fonction pour r√©cup√©rer un verset al√©atoire via l'API Bible (avec fallback)
        async function getRandomVerse() {
            try {
                const response = await fetch('https://bible-api.com/?random=verse');
                const data = await response.json();
                return `${data.text} <br> ${data.reference}`;
            } catch (error) {
                console.warn("Erreur lors de la r√©cup√©ration du verset, utilisation du verset par d√©faut");
                return "Car Dieu a tant aim√© le monde qu'il a donn√© son Fils unique, afin que quiconque croit en lui ne p√©risse point, mais qu'il ait la vie √©ternelle. <br> - Jean 3:16";
            }
        }
        
        // Fonction pour d√©terminer la salutation
        function getGreeting() {
            const hour = new Date().getHours();
            if (hour >= 5 && hour < 12) return greetings.morning;
            if (hour >= 12 && hour < 18) return greetings.afternoon;
            if (hour >= 18 && hour < 21) return greetings.evening;
            return greetings.night;
        }
        
        // Fonction pour afficher le contenu
        async function displayContent() {
            const greetingElement = document.getElementById('greeting');
            const verseElement = document.getElementById('verse');
            const socialShareElement = document.querySelector('.social-share');
        
            greetingElement.textContent = getGreeting();
            verseElement.innerHTML = await getRandomVerse();
        
            greetingElement.style.marginBottom = '2rem';
            socialShareElement.style.marginTop = '2rem';
            
            setTimeout(() => {
                verseElement.classList.add('visible');
                greetingElement.style.marginBottom = '1rem';
                socialShareElement.style.marginTop = '1rem';
            }, 1000);
        }
        
        // Fonctions de partage (Facebook, Twitter, WhatsApp)
        function shareOnFacebook() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`${getGreeting()} ${document.getElementById('verse').textContent}`);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
        }
        
        function shareOnTwitter() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`${getGreeting()} ${document.getElementById('verse').textContent}`);
            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
        }
        
        function shareOnWhatsApp() {
            const text = encodeURIComponent(`${getGreeting()} ${document.getElementById('verse').textContent}`);
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }
        
        // Fonction de partage g√©n√©rique
        function shareSite() {
            if (navigator.share) {
                navigator.share({
                    title: document.title,
                    text: `${getGreeting()} ${document.getElementById('verse').textContent}`,
                    url: window.location.href
                }).catch(console.error);
            } else {
                alert('Votre navigateur ne supporte pas le partage Web.');
            }
        }
        
        // Fonction pour copier le verset
        function copyVerseToClipboard() {
            const verseText = document.getElementById('verse').textContent;
            navigator.clipboard.writeText(verseText).then(() => {
                alert('Verset copi√© avec succ√®s !');
            });
        }
        
        // Fonction de lecture √† haute voix
        function toggleTextToSpeech() {
            const verseText = document.getElementById('verse').textContent;
            const speakButton = document.getElementById('speakButton');
        
            if (synth.speaking) {
                synth.cancel();
                speakButton.innerHTML = '<i class="fas fa-volume-up"></i> Lire √† haute voix';
                return;
            }
        
            const utterance = new SpeechSynthesisUtterance(verseText);
            utterance.lang = 'en-EN';
            
            utterance.onstart = () => {
                speakButton.innerHTML = '<i class="fas fa-volume-mute"></i> Arr√™ter';
            };
            
            utterance.onend = () => {
                speakButton.innerHTML = '<i class="fas fa-volume-up"></i> Lire √† haute voix';
            };
        
            synth.speak(utterance);
        }
        
        // Fonction pour basculer les options de partage
        function toggleShareOptions() {
            const shareOptions = document.getElementById('shareOptions');
            shareOptions.classList.toggle('visible');
        }
        
        // Charger le contenu au d√©marrage
        window.onload = displayContent;
    </script>
</body>
</html>